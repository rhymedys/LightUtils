/*
 * LIGHT-UTILS v0.1.0
 * (c) 2016-2018 Rhymedys<Rhymedys@gmail.com>
 * Released under the MIT license.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LightUtils=e()}(this,function(){"use strict";function t(t,e){if(t){var n=t.substring(0,t.indexOf("://")+3);return t.replace(n,e?window.location.protocol+"//":"")}}function e(t){return/^(http(s)?|\/\/)/.test(t)}function n(t,n){if(e(t)&&n>0){var r=t.split("//"),i=r[0]+"/";if(r[1]){for(var o=r[1].split("/"),a=0;a<n;a++)i+="/"+o[a];i.match("/?/")&&(i=i.split("?")[0])}else i+="/";return i}}function r(t,e){if(t){var n=t.match("://")&&t.split(":");return n&&n[0]||null}}function i(t){return t&&t.match("/?/")&&t.split("?")[1]||null}function o(t){var e=t&&t.split("&")||[],n={};return e.forEach(function(t){if(t){var e=t.split("=");e?n[e[0]]=e[1]||"":n[t]=""}}),n}function a(t){return t&&t.replace(/.*?:\/\//g,"//")||t}function u(t,e){return t&&e&&o(i(t))?o(i(t))[e]:null}function c(t,e,n){if(null==t)return"";var r="",i=typeof t;if("string"===i||"number"===i||"boolean"===i)r+="&"+e+"="+(null==n||n?encodeURIComponent(t):t);else for(var o in t){var a=null==e?o:e+(t instanceof Array?"["+o+"]":"."+o);r+=c(t[o],a,n)}return r}function f(t){var e=/([^\s]+(?=\.(jpg|gif|png|jpeg))\.\2)/gi;return!!t.match(e)}function s(){Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(""+this.getFullYear()).substr(4-RegExp.$1.length)));for(var n in e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t}}function l(t){return"\u5468"+["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"][new Date(Date.parse(t.replace(/-/g,"/"))).getDay()]}function g(t){return"\u661f\u671f"+["\u5929","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"][new Date(Date.parse(t.replace(/-/g,"/"))).getDay()]}function d(t){return Date.prototype.format||s(),t&&t()}function p(t,e){return d(function(){return new Date(t).format(e||P)})}function h(t){return d(function(){return(new Date).format(t||P)})}function m(t){return t&&Object.prototype.toString.call(t)||null}function y(t){return"[object "+t+"]"}function v(t,e){if(m(e)===E.Function)return m(t)===e(E)}function b(t,e){if(t&&v(t,function(t){return t.Object})&&e){var n={};return v(e,function(t){return t.Array})?Object.entries(t).forEach(function(t){var r=t[0],i=t[1];!e.includes(r)&&(n[r]=i)}):v(e,function(t){return t.String})?Object.entries(t).forEach(function(t){var r=t[0],i=t[1];e!==r&&(n[r]=i)}):n=t,n}return t}function O(){var t=navigator.userAgent;return{trident:t.indexOf("Trident")>-1,presto:t.indexOf("Presto")>-1,webKit:t.indexOf("AppleWebKit")>-1,gecko:t.indexOf("Gecko")>-1&&-1==t.indexOf("KHTML"),mobile:!!t.match(/AppleWebKit.*Mobile.*/),ios:!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:t.indexOf("Android")>-1||t.indexOf("Adr")>-1,iPhone:t.indexOf("iPhone")>-1,iPad:t.indexOf("iPad")>-1,webApp:-1==t.indexOf("Safari"),weixin:t.indexOf("MicroMessenger")>-1,qq:" qq"==t.match(/\sQQ/i),mydoctor:t.indexOf("Mydoctor")>-1,wechatdevtools:t.indexOf("wechatdevtools")>-1,kingdeeHit:t.indexOf("KingdeeHit")>-1,alipayClient:t.indexOf("AlipayClient")>-1}}function _(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function D(t,e){void 0===e&&(e=16);var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(e=e||r.length,t)for(n=0;n<t;n++)i[n]=r[0|Math.random()*e];else{var o;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",n=0;n<36;n++)i[n]||(o=0|16*Math.random(),i[n]=r[19==n?3&o|8:o])}return i.join("")}function x(t){return/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(t)||"/^[rR][gG][Bb][Aa]?[(]([s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),){2}[s]*(2["+"0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?),?[s]*(0.d{1,2}|1|0)?[)]{1}$/g".test(t)}function A(t){return t&&t.trim()&&(18===t.trim().length||15===t.trim().length)&&!(!t.match("^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$")&&!t.match("^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X)$"))}function M(t){return t&&t.trim()&&11===t.trim().length&&!!/^1[34578]\d{9}$/.test(t)}function j(t,e){var n={};return e&&e.forEach(function(e){n[e]=t&&t+"/"+e||""+e}),n}function U(t,e,n){var r=new Image;r.setAttribute("crossOrigin","anonymous"),r.onload=function(){e&&e(this.resizeMe(r,n))},r.onerror=function(){e&&e()},r.src=t}function w(t){var e=0;if(t)for(var n=obj;n;)e+=n.offsetTop,n=n.offsetParent;return e}var P="yyyy-MM-dd hh:mm:ss",E={String:y("String"),Array:y("Array"),Object:y("Object"),Function:y("Function"),Number:y("Number"),Date:y("Date"),Boolean:y("Boolean")};return{_replaceUrlProtocal2CurrentProtocal:t,_isUrl:e,_getUrlPathByGrade:n,_getURLProtocol:r,_getUrlQuery:i,_query2Json:o,_removeProtocol:a,_getQueryValueByKey:u,_tranJson2Query:c,_checkIsImgUrl:f,_injectDateFormatToDate:s,_getWeekDayByDate:l,_getDayByDate:g,_getDateByTimestamp:p,_getCurrentDate:h,_checkObjType:v,_getObjectType:m,_removeItemFromObject:b,_getUserAgent:O,_generateGUID:_,_generateUUID:D,_isColor:x,_isIdentity:A,_isPhoneNum:M,_generateApiObjFromArr:j,_convertImgToBase64:U,_getEl2DocumentDIstance:w}});